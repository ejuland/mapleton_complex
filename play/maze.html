<!DOCTYPE html>
<html>

<head>
    <style>
        * {
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -o-user-select: none;
            user-select: none;
        }

        html,
        body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: black;
        }

        canvas {
            /* border: 2px solid black; */
            margin: auto;
        }

        body {
            width: 100%;
            overflow: hidden;
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        #resources {
            visibility: hidden;
            position: fixed;
            height: 0px;
            width: 0px;
        }

        section {
            margin: auto;
            display: flex;
        }

        #btn-container {
            padding: 2%;
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-evenly;
        }

        .btn {
            width: 100px;
            height: 100px;
            border: 3px solid grey;
            border-radius: 3px;
            background-color: rgb(34, 36, 44);
        }

        .releasing {
            border: 3px dotted rgb(129, 55, 55);
            border-radius: 3px;
            background-color: rgb(48, 40, 40);
        }

        .interacting {
            border: 3px dotted rgb(156, 138, 58);
        }

        .interacting:hover {
            border: 3px solid rgb(156, 138, 58);
        }


        .d-pad {
            display: grid;
            grid-template-columns: minmax(0, 1fr) minmax(0, 1fr) minmax(0, 1fr);
            grid-template-rows: minmax(0, 1fr) minmax(0, 1fr) minmax(0, 1fr);
            width: 200px;
            height: 200px;
            padding: 5%;
            margin: 0;
            position: fixed;
            bottom: 0px;
            left: 0px;
        }

        .d-pad img {
            width: 100%;
            height: 100%;
            opacity: .5;
        }

        .up {
            grid-row-start: 1;
            grid-row-end: 2;
            grid-column-start: 2;
            grid-column-end: 3;
        }

        .left {
            grid-row-start: 2;
            grid-row-end: 3;
            grid-column-start: 1;
            grid-column-end: 2;
        }

        .right {
            grid-row-start: 2;
            grid-row-end: 3;
            grid-column-start: 3;
            grid-column-end: -1;
        }

        .down {
            grid-row-start: 3;
            grid-row-end: -1;
            grid-column-start: 2;
            grid-column-end: 3;
        }

        #screen {
            border: 2px solid pink;
            background-color: white;
        }

        @media only screen and (max-width: 600px) {
            section {
                flex-direction: column;
            }

            #btn-container {
                flex-direction: row;
            }
        }
    </style>

</head>

<body>
    <section>
        <canvas id="screen" width="500" height="500" style="border:1px solid #000000;">
        </canvas>
    </section>


    <div id="resources"></div>
    <script src="./render.js"></script>
    <script src="./MazeGen.js"></script>
    <script src="./puzzelmanager.js"></script>
    <script src="./assets.js"></script>
    <script>

        const SCREEN = document.querySelector("#screen");
        const CTX = SCREEN.getContext("2d");

        const colors = {
            0: "white",
            1: "blue",
            2: "red",
            3: "grey",
            4: "purple",
            5: "pink",
            6: "orange",
            7: "yellow",
            8: "black",
            9: "black",
            10: "brown",
            22: "hotpink",
            24: "skyblue",
            20: "steelblue",
            21: "steelblue",
            26: "olive"


        };
        let
            player1,
            deadEnds,
            maze,
            levelNum = 1,
            players = 1;
        let levelDat = {
            paths: 1,
            puzzels: 6,
            difficulty: 2,
            max_distance: 20,
            players: 1
        };
        console.log("starting...");
        levelDat.puzzels = levelNum;
        levelDat.difficulty = Math.round(levelNum / 2);
        levelDat.max_distance = Math.round((levelNum + 2));
        //levelDat.max_distance++;
        //do{
        maze = new MazeGenerator({ level: 10, players: 1 });
        // }while(deadEnds.length < (player));
        const RenderEngine = new Render();
        RenderEngine.renderMap(CTX, 0, 0, { x: 0, y: 0, w: 500, h: 500, block: (500 / maze.maze_perimiter) }, maze, "N", colors, 100)
        console.log("Done!!!");
            //player1.setMaze(maze);
            // setUpPlayerSpawnPoints(0, maze.maze_perimiter);
            // setUpExit();


    </script>
    <script>
        /*Copyright (C) Eric Julander 2021 - All Rights Reserved
        * Unauthorized copying of this file, via any medium is strictly prohibited
        * Proprietary and confidential
        * Written by Eric Julander <ericjulander@gmail.com>, August 2021
        */
    </script>
</body>

</html>